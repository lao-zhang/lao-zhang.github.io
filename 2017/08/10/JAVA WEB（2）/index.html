<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>java web(2) | 老zhang Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="6.JavaBean组件JavaBean概念用于封装数据和业务逻辑，以实现业务逻辑和显示逻辑的分离，通过使用JavaBean减少在JSP中脚本代码的使用，使得应用程序易于维护、系统具有更强的健壮性和灵活性。  javaBean是用java语言描述的软件组织模型，实际上是一个java类。在编写jsp页面时，对于一些常用的功能，可以将它们的共用功能抽取出来，组织为javaBean。 javaBean">
<meta property="og:type" content="article">
<meta property="og:title" content="java web(2)">
<meta property="og:url" content="http://yoursite.com/2017/08/10/JAVA WEB（2）/index.html">
<meta property="og:site_name" content="老zhang Blog">
<meta property="og:description" content="6.JavaBean组件JavaBean概念用于封装数据和业务逻辑，以实现业务逻辑和显示逻辑的分离，通过使用JavaBean减少在JSP中脚本代码的使用，使得应用程序易于维护、系统具有更强的健壮性和灵活性。  javaBean是用java语言描述的软件组织模型，实际上是一个java类。在编写jsp页面时，对于一些常用的功能，可以将它们的共用功能抽取出来，组织为javaBean。 javaBean">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/计数器.png">
<meta property="og:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/JSP%20Model1.png">
<meta property="og:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/JSP%20Model1%20改.png">
<meta property="og:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/JSP%20Model%202.png">
<meta property="og:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/MVC.png">
<meta property="og:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/自定义标签.png">
<meta property="og:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/循环1.png">
<meta property="og:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/循环2.png">
<meta property="og:updated_time" content="2018-03-06T12:43:43.542Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="java web(2)">
<meta name="twitter:description" content="6.JavaBean组件JavaBean概念用于封装数据和业务逻辑，以实现业务逻辑和显示逻辑的分离，通过使用JavaBean减少在JSP中脚本代码的使用，使得应用程序易于维护、系统具有更强的健壮性和灵活性。  javaBean是用java语言描述的软件组织模型，实际上是一个java类。在编写jsp页面时，对于一些常用的功能，可以将它们的共用功能抽取出来，组织为javaBean。 javaBean">
<meta name="twitter:image" content="http://yoursite.com/Users/zhangxuan/Pictures/截图/计数器.png">
  
    <link rel="alternate" href="/atom.xml" title="老zhang Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">老zhang Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="https://lao-zhang.github.io">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-JAVA WEB（2）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/10/JAVA WEB（2）/" class="article-date">
  <time datetime="2017-08-09T16:00:00.000Z" itemprop="datePublished">2017-08-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      java web(2)
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<h3 id="6-JavaBean组件"><a href="#6-JavaBean组件" class="headerlink" title="6.JavaBean组件"></a>6.JavaBean组件</h3><h4 id="JavaBean概念"><a href="#JavaBean概念" class="headerlink" title="JavaBean概念"></a>JavaBean概念</h4><p>用于封装数据和业务逻辑，以实现业务逻辑和显示逻辑的分离，通过使用JavaBean减少在JSP中脚本代码的使用，使得应用程序易于维护、系统具有更强的健壮性和灵活性。</p>
<!--more-->
<p>javaBean是用java语言描述的软件组织模型，实际上是一个java类。在编写jsp页面时，对于一些常用的功能，可以将它们的共用功能抽取出来，组织为javaBean。</p>
<p>javaBean必须为public类，必须有一个无参的public构造方法，属性的访问权限一般定义为private或protected，对于每个属性一般有两个方法——get和set方法。</p>
<h4 id="JavaBean使用范围"><a href="#JavaBean使用范围" class="headerlink" title="JavaBean使用范围"></a>JavaBean使用范围</h4><jsp:usebean id="" class="" scope="">

<p>使用scope属性来设置javaBean的使用范围。</p>
<p>拿计数器举例：</p>
<p>page：jb只在当前jsp页面有效，即打开指定jsp计数器+1，刷新无效。</p>
<p>request：jb在转发页面也有效，即在当前jsp页面计数器+1，在从当前jsp页跳转到的jsp页面也+1，刷新无效。</p>
<p>session：jb在当前用户打开的任何界面都有效，即反复打开调用计数器的jsp都+1，刷新+1；</p>
<p>application：jb在所有用户的界面都有效，即刷新+1，反复打开页面+1，使用其他浏览器打开+1；</p>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><p>实现上述作用域为request的计数器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> jb;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountBean</span></span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count=<span class="number">0</span>;</div><div class="line">  &#123;</div><div class="line">      </div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getcount</span><span class="params">()</span></span></div><div class="line"><span class="function">  </span>&#123;</div><div class="line">    count++;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.count;</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setcount</span><span class="params">(<span class="keyword">int</span> count)</span></span></div><div class="line"><span class="function">  </span>&#123;</div><div class="line">      <span class="keyword">this</span>.count=count;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//javaBean，计数器方法。</span></div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;%<span class="meta">@page</span> language=<span class="string">"java"</span> contectType=<span class="string">"text/html;charset=UTF-8"</span> pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html;charset=UTF-8"</span>&gt;</div><div class="line">    &lt;title&gt;counter request&lt;/title&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;jsp:useBean id=<span class="string">"counter"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"jb.CountBean"</span> scope=<span class="string">"request"</span>/&gt;</div><div class="line">    计算机的值：&lt;jsp:getProperty property=<span class="string">"count"</span> name=<span class="string">"counter"</span>/&gt;</div><div class="line">    &lt;jsp:forward page="getrequestcounter.jsp"&gt;&lt;/jsp:forword&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line">********************</div><div class="line">&lt;jsp:useBean&gt; javaBean引用标签；</div><div class="line">&lt;jsp:getPeoperty&gt;获取javaBean中的参数值，相当于调用函数中的get方法；</div><div class="line">&lt;jsp:forward&gt;转发页面，当useBean标签的scope属性设置为request时，可以使用此标签将javaBean的内容转发到其他页面</div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;%<span class="meta">@page</span> language=<span class="string">"java"</span> contectType=<span class="string">"text/html;charset=utf-8"</span> pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html;charset=utf-8"</span>&gt;</div><div class="line">    &lt;title&gt;跳转页面&lt;/title&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;div align=<span class="string">"center"</span>&gt;</div><div class="line">    &lt;jsp:useBean id=<span class="string">"counter"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"jb.CountBean"</span> scope=<span class="string">"request"</span>/&gt;</div><div class="line">      计数器：&lt;jsp:getProperty property=<span class="string">"count"</span> name=<span class="string">"count"</span>/&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line">*************</div><div class="line">转发页面的&lt;jsp:useBean&gt;标签中scope属性也要设置为<span class="string">"request"</span></div></pre></td></tr></table></figure>
<p>运行结果：由初始页面到转发页面，调用了javaBean两次，故计数器显示为2；</p>
<p><img src="/Users/zhangxuan/Pictures/截图/计数器.png" style="zoom:50%"></p>
<h3 id="7-MVC设计模式"><a href="#7-MVC设计模式" class="headerlink" title="7.MVC设计模式"></a>7.MVC设计模式</h3><p>设计模式：设计模式是一套被人反复使用、多人知晓、经过分类编目的、代码设计经验的总结。编写程序使用设计模式是为了重用代码、让代码更容易为他人理解、保证代码可靠。设计模式使代码编制真正工程化，是软件工程的基石脉络。</p>
<p>MVC设计模式：用一种将设计流程控制、业务逻辑和数据显示分离的方法来编写程序，使得代码可复用、易维护。</p>
<h4 id="1-JSP-Model1"><a href="#1-JSP-Model1" class="headerlink" title="1.JSP Model1"></a>1.JSP Model1</h4><p>早期java web应用开发中，JSP文件即负责处理业务逻辑和控制程序的运行流程，还负责数据的显示。即用JSP文件独立自主的完成系统功能的所有任务。</p>
<p><img src="/Users/zhangxuan/Pictures/截图/JSP Model1.png" style="zoom:45%"></p>
<p>​                                                                         传统的JSP Model1</p>
<h4 id="2改进的JSP-Model1"><a href="#2改进的JSP-Model1" class="headerlink" title="2改进的JSP Model1"></a>2改进的JSP Model1</h4><p>改进的JSP Model1利用JSP页面与javaBean组件共同协作来完成系统功能的所有任务，JSP文件负责程序的流程控制逻辑和数据显示逻辑任务，javaBean负责处理业务逻辑任务。</p>
<p><img src="/Users/zhangxuan/Pictures/截图/JSP Model1 改.png" style="zoom:45%"></p>
<h4 id="3-JSP-Model2"><a href="#3-JSP-Model2" class="headerlink" title="3.JSP Model2"></a>3.JSP Model2</h4><p>JSP Model2 采用JSP页面、Servlet和JavaBean组件分工协作共同完成系统功能的所有任务。其中JSP负责数据显示逻辑任务，Servlet负责程序流程控制逻辑任务，JavaBean负责处理逻辑任务。JSP Model2就是采用MVC设计模式思想来设计的。</p>
<p><img src="/Users/zhangxuan/Pictures/截图/JSP Model 2.png" style="zoom:45%"></p>
<h4 id="4-MVC设计模式"><a href="#4-MVC设计模式" class="headerlink" title="4.MVC设计模式"></a>4.MVC设计模式</h4><p>模型（Model）：实现业务逻辑处理和数据库操作，另外还包括数据模型；</p>
<p>视图（View）：实现数据显示逻辑。负责与用户交互，即接受用户数据的输入，显示模型返回的数据。</p>
<p>控制器（Controller）：实现程序执行流程的控制，任务的分派。接受用户请求，调用模型完成请求的业务处理功能，并将                   处理结果返回给视图。</p>
<p><img src="/Users/zhangxuan/Pictures/截图/MVC.png" style="zoom:50%"></p>
<h3 id="8-EL表达式"><a href="#8-EL表达式" class="headerlink" title="8.EL表达式"></a>8.EL表达式</h3><p>在JSP页面中使用EL表达式可以获取并显示页面数据，并且可以简化对变量和对象的访问，减少JSP页面中对java代码的使用。</p>
<h4 id="1-EL访问数据"><a href="#1-EL访问数据" class="headerlink" title="1.EL访问数据"></a>1.EL访问数据</h4><h5 id="访问作用域变量"><a href="#访问作用域变量" class="headerlink" title="访问作用域变量"></a>访问作用域变量</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> el;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> javax.servlet.RequestDispatcher;</div><div class="line"><span class="keyword">import</span> javax.servlet.ServletException;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScopeServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span></span></div><div class="line"><span class="function">	<span class="keyword">throws</span> ServletException,IOException</span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		<span class="keyword">this</span>.doPost(request, response);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span></span></div><div class="line"><span class="function">	<span class="keyword">throws</span> ServletException,IOException</span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		String attr1=<span class="string">"hello,world!"</span>;</div><div class="line">		request.setAttribute(<span class="string">"attr1"</span>, attr1);</div><div class="line">		RequestDispatcher dispatcher;<span class="comment">//请求转发接口；</span></div><div class="line">		dispatcher=request.getRequestDispatcher(<span class="string">"/el/getVar.jsp"</span>);<span class="comment">//获取接受转发的页面</span></div><div class="line">		dispatcher.forward(request, response);<span class="comment">//转发</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;title&gt;获取作用与对象的值&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">     $&#123; attr1 &#125;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line"></div><div class="line"><span class="number">1</span>.此页面接受从ScopeServlet.java传送的request，使用el语句直接输出存储在request中的“attr1”参数的值;</div><div class="line"><span class="number">2</span>.el语句要注意：<span class="string">"$"</span>与<span class="string">"&#123;&#125;"</span>之间不能有空格；</div></pre></td></tr></table></figure>
<p>运行ScopeServlet.java后显示的是转发页面（JSP页面）的内容，但是显示的路径是在web.xml中设置的java类的路径。</p>
<h5 id="页面跳转的若干方法"><a href="#页面跳转的若干方法" class="headerlink" title="页面跳转的若干方法"></a><strong><em>页面跳转的若干方法</em></strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">        RequestDispatcher dispatch;</div><div class="line">		dispatch=request.getRequestDispatcher(<span class="string">"/el/laozhang.jsp"</span>);</div><div class="line">		dispatch.forward(request, response);</div><div class="line"></div><div class="line">除了使用重定向来跳转到本地页面，还可以是网络界面。（我在想能不能通过提交request到百度来完成自动搜素）</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">response.setStatus(HttpServletResponse.SC_MOVED_PERMANENTLY);</div><div class="line">String newLocn = <span class="string">"http://lao_zhang.coding.me"</span>;</div><div class="line">response.setHeader(<span class="string">"Location"</span>,newLocn);</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">response.sendRedirect(<span class="string">"http://lao_zhang.coding.me"</span>);</div></pre></td></tr></table></figure>
<p>综上，第一种可以用来向目标页面发送request和response，第三种较为简便。</p>
<h5 id="访问JavaBean属性"><a href="#访问JavaBean属性" class="headerlink" title="访问JavaBean属性"></a>访问JavaBean属性</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> el;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"></div><div class="line"><span class="keyword">import</span> javax.servlet.RequestDispatcher;</div><div class="line"><span class="keyword">import</span> javax.servlet.ServletException;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bookdispatch</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span></span></div><div class="line"><span class="function">	<span class="keyword">throws</span> ServletException,IOException</span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		doPost(request,response);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span></span></div><div class="line"><span class="function">	<span class="keyword">throws</span> ServletException,IOException</span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		Book book=<span class="keyword">new</span> Book(<span class="string">"1001"</span>,<span class="string">"《丰乳肥臀》"</span>);</div><div class="line">		request.setAttribute(<span class="string">"Book"</span>, book);</div><div class="line">		RequestDispatcher dispatcher=request.getRequestDispatcher(<span class="string">"/el/getBean.jsp"</span>);</div><div class="line">		dispatcher.forward(request, response);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="number">1</span>.依旧通过request转发Book对象；</div><div class="line"><span class="number">2</span>.Book对象具有isbn（编号）和name（名称）两项属性，Book类方法无非是Book本身的构造方法和两元素的get、set方法，这里就不放出代码了。</div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;获取图书信息&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">ISBN:$&#123;Book.isbn&#125;&lt;br&gt;</div><div class="line">书  名:$&#123;Book.name &#125;&lt;br&gt; </div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line"><span class="number">1</span>.使用el语言，直接对存放在request中的Book对象中的isbn元素和name元素进行引用。</div></pre></td></tr></table></figure>
<h5 id="访问集合元素"><a href="#访问集合元素" class="headerlink" title="访问集合元素"></a>访问集合元素</h5><p>(只给出集合在class中定义的java语句和在jsp中的EL访问语句)</p>
<p>数组:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">   Book books[]=<span class="keyword">new</span> Book[<span class="number">4</span>];</div><div class="line">books[<span class="number">0</span>]=<span class="keyword">new</span> Book(<span class="string">"100"</span>,<span class="string">"《Harry Potty》"</span>);</div><div class="line">books[<span class="number">1</span>]=<span class="keyword">new</span> Book(<span class="string">"101"</span>,<span class="string">"《他知道风从哪个方向吹来》"</span>);</div><div class="line">books[<span class="number">2</span>]=<span class="keyword">new</span> Book(<span class="string">"102"</span>,<span class="string">"《文化苦旅》"</span>);</div><div class="line">books[<span class="number">3</span>]=<span class="keyword">new</span> Book(<span class="string">"103"</span>,<span class="string">"《史蒂芬·乔布斯传》"</span>);</div><div class="line">request.setAttribute(<span class="string">"books"</span>,books);</div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;table border=<span class="number">1</span>&gt;</div><div class="line">&lt;tr&gt;</div><div class="line">&lt;th&gt;ISBN&lt;/th&gt;</div><div class="line">&lt;th&gt;书  名&lt;/th&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;tr&gt;</div><div class="line">&lt;td&gt;$&#123;books[0].isbn&#125;&lt;/td&gt;</div><div class="line">&lt;td&gt;$&#123;books[0].name&#125;&lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;tr&gt;</div><div class="line">&lt;td&gt;$&#123;books[1].isbn&#125;&lt;/td&gt;</div><div class="line">&lt;td&gt;$&#123;books[1].name&#125;&lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;tr&gt;</div><div class="line">&lt;td&gt;$&#123;books[2].isbn&#125;&lt;/td&gt;</div><div class="line">&lt;td&gt;$&#123;books[2].name&#125;&lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;tr&gt;</div><div class="line">&lt;td&gt;$&#123;books[3].isbn&#125;&lt;/td&gt;</div><div class="line">&lt;td&gt;$&#123;books[3].name&#125;&lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div><div class="line"></div><div class="line"><span class="number">1</span>.本例中使用的是对象数组；</div><div class="line"><span class="number">2</span>.EL表达式访问为：$&#123;数组名[数组下标].元素名&#125;；</div></pre></td></tr></table></figure>
<p>List：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">List department=<span class="keyword">new</span> ArrayList();</div><div class="line">	       department.add(<span class="string">"计算机系"</span>);</div><div class="line">	       department.add(<span class="string">"软件工程系"</span>);</div><div class="line">	       department.add(<span class="string">"电子系"</span>);</div><div class="line">	       request.setAttribute(<span class="string">"department"</span>, department);</div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;h3&gt;系别&lt;/h3&gt;</div><div class="line">$&#123;department[<span class="number">0</span>]&#125;&lt;br&gt;</div><div class="line">$&#123;department[<span class="number">1</span>]&#125;&lt;br&gt;</div><div class="line">$&#123;department[<span class="number">2</span>]&#125;</div><div class="line"></div><div class="line"><span class="number">1</span>.本例使用的是一个基本的List;</div><div class="line"><span class="number">2</span>.EL表达式访问为：$&#123;List名[list下标]&#125;,下标从小到大依次访问的是由先到后添加的元素;</div></pre></td></tr></table></figure>
<p>Map:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Map phone=<span class="keyword">new</span> HashMap();</div><div class="line">	phone.put(<span class="string">"home"</span>, <span class="string">"12334-434243"</span>);</div><div class="line">	phone.put(<span class="string">"tel"</span>, <span class="string">"243245647767"</span>);</div><div class="line">	phone.put(<span class="string">"office"</span>, <span class="string">"1435-4141315"</span>);</div><div class="line">	request.setAttribute(<span class="string">"phone"</span>, phone);</div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;h3&gt;</div><div class="line">home: $&#123;phone.home&#125;&lt;br&gt;</div><div class="line">tel: $&#123;phone[<span class="string">"tel"</span>] &#125;&lt;br&gt;</div><div class="line">office: $&#123;phone.office&#125;&lt;br&gt;</div><div class="line">&lt;/h3&gt;</div><div class="line"></div><div class="line"><span class="number">1</span>.本例使用的是一个基本的Map；</div><div class="line"><span class="number">2</span>.EL表达式访问为：$&#123;Map名.元素名&#125;或$&#123;Map名[<span class="string">"元素名"</span>]&#125;;</div></pre></td></tr></table></figure>
<h4 id="2-EL内置对象"><a href="#2-EL内置对象" class="headerlink" title="2.EL内置对象"></a>2.EL内置对象</h4><h5 id="1-pageContext"><a href="#1-pageContext" class="headerlink" title="1.pageContext"></a>1.pageContext</h5><p>pageContext对象可以取得与用户请求或服务器相关的信息。它用于访问JSP内置对象，如请求、响应、会话、输出、servletContext等。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$&#123;pageContext.request.method&#125;&lt;br&gt;</div><div class="line">$&#123;pageContext.response.characterEncoding&#125;&lt;br&gt;</div><div class="line">$&#123;pageContext.servletContext.contextPath&#125;&lt;br&gt;</div><div class="line">$&#123;pageContext.session.id&#125;</div><div class="line"></div><div class="line"><span class="number">1</span>.由上至下分别是：请求方式、响应的编码方式、上下文路径、session的ID</div></pre></td></tr></table></figure>
<p>result：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">GET</div><div class="line">UTF-8</div><div class="line">/upup</div><div class="line">1D193A2F8E30B76FA5DA4E6D30F61A0B</div></pre></td></tr></table></figure>
<h5 id="2-作用范围相关的内置对象"><a href="#2-作用范围相关的内置对象" class="headerlink" title="2.作用范围相关的内置对象"></a>2.作用范围相关的内置对象</h5><p>使用pageScope、requestScope、sessionScope、applicationScope来读取其作用范围内的值，跟JSP内置对象（可以设置值）搭配使用更佳哦。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 使用JSP内置对象设置属性值--&gt;</div><div class="line">&lt;%</div><div class="line">request.setAttribute(<span class="string">"her"</span>,<span class="string">"王阿姨"</span>);</div><div class="line">session.setAttribute(<span class="string">"her"</span>,<span class="string">"张嘉萍"</span>);</div><div class="line">pageContext.setAttribute(<span class="string">"her"</span>, <span class="string">"陈研妍"</span>);</div><div class="line">application.setAttribute(<span class="string">"her"</span>, <span class="string">"廖若男"</span>);</div><div class="line">%&gt;</div><div class="line"></div><div class="line">&lt;!-- 使用EL内置对象读取属性值 --&gt;</div><div class="line">page：$&#123;pageScope.her&#125;&lt;br&gt;</div><div class="line">request: $&#123;requestScope.her &#125;&lt;br&gt;</div><div class="line">session: $&#123;sessionScope.her &#125;&lt;br&gt;</div><div class="line">application: $&#123;applicationScope.her &#125;&lt;br&gt;</div><div class="line"></div><div class="line"><span class="number">1</span>.很方便；</div></pre></td></tr></table></figure>
<p>result:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">page：陈研妍</div><div class="line">request: 王阿姨</div><div class="line">session: 张嘉萍</div><div class="line">application: 廖若男</div></pre></td></tr></table></figure>
<h5 id="3-与请求参数相关的内置对象"><a href="#3-与请求参数相关的内置对象" class="headerlink" title="3.与请求参数相关的内置对象"></a>3.与请求参数相关的内置对象</h5><p>param：获取传递过来的单值参数的值，相当于请求对象的getParameter( )方法；</p>
<p>paramValues：获取传递过来的多值参数的值，相当于请求对象的getParameterValues( )方法；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"param.jsp"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></div><div class="line">用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">密    码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">兴    趣：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"ins"</span> <span class="attr">value</span>=<span class="string">"sport"</span>&gt;</span>运动</div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"ins"</span> <span class="attr">value</span>=<span class="string">"music"</span>&gt;</span>音乐</div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"ins"</span> <span class="attr">value</span>=<span class="string">"draw"</span>&gt;</span>绘画</div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"ins"</span> <span class="attr">value</span>=<span class="string">"programing"</span>&gt;</span>编程<span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> <span class="attr">value</span>=<span class="string">"重置"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">1.name和password都只有一个值，用param方法读取；</div><div class="line">2.ins为多值（可能），用paramValues方法读取,如果用param方法读取，默认为第一个值（ins[0]）;</div></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">&lt;%request.setCharacterEncoding(<span class="string">"UTF-8"</span>);%&gt;</div><div class="line">用户名：$&#123;param.name &#125;&lt;br&gt;</div><div class="line">密    码：$&#123;param.password &#125;&lt;br&gt;</div><div class="line">兴    趣：$&#123;paramValues.ins[<span class="number">0</span>] &#125;</div><div class="line">               $&#123;paramValues.ins[<span class="number">1</span>] &#125;</div><div class="line">               $&#123;paramValues.ins[<span class="number">2</span>] &#125;</div><div class="line">               $&#123;paramValues.ins[<span class="number">3</span>] &#125;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<p>Result:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">用户名：老张</div><div class="line">密 码：123</div><div class="line">兴 趣：sport music draw programing</div></pre></td></tr></table></figure>
<h5 id="4-与请求头相关的内置对象"><a href="#4-与请求头相关的内置对象" class="headerlink" title="4.与请求头相关的内置对象"></a>4.与请求头相关的内置对象</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">主机名：$&#123;header.host&#125;&lt;br&gt;</div><div class="line">用户浏览器信息：$&#123;header[<span class="string">"User-Agent"</span>] &#125;&lt;br&gt;</div><div class="line">浏览器可接受的MIME类型：$&#123;header.Accept&#125;</div></pre></td></tr></table></figure>
<p>Result:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">主机名：localhost:8080</div><div class="line">用户浏览器信息：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13) AppleWebKit/604.1.38 (KHTML, like Gecko) Safari/522.0</div><div class="line">浏览器可接受的MIME类型：text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></pre></td></tr></table></figure>
<h5 id="5-cookie内置对象"><a href="#5-cookie内置对象" class="headerlink" title="5.cookie内置对象"></a>5.cookie内置对象</h5><p>1.使用html表单提交用户名信息；（代码略去）</p>
<p>2.使用java创建cookie并将用户名信息上次登录日期写入；(代码略去)</p>
<p>3.在JSP页面使用EL语句输出</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;h2&gt;从Cookie读取登录名和上次登录时间&lt;/h2&gt;</div><div class="line">用户名：$&#123;cookie.name.value &#125;&lt;br&gt;</div><div class="line">上次登录时间：$&#123;cookie.lastCall.value &#125;&lt;br&gt;</div><div class="line"></div><div class="line"><span class="number">1</span>.语句形式为：$&#123;cookie.元素名.value&#125;</div></pre></td></tr></table></figure>
<p>Result：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">从Cookie读取登录名和上次登录时间</div><div class="line"></div><div class="line">用户名：laozhang</div><div class="line">上次登录时间：Sat/Oct/21/21:54:35/CST/2017</div></pre></td></tr></table></figure>
<p>PS:每次使用cooki存储信息时都要注意两点：</p>
<p>1.cookie内不能读取空格（这点多限制与时间信息，使用Date（）方法创建的时间信息会产生空格，这时需要使用string.replaceAll()方法将其中的空格替换掉）；</p>
<p>2.cookie默认不能读取中文，需要在写入和读取时额外加上编码设置语句（一版设置为“utf-8”）,但是EL语句读取时我暂时还不知道应该如何设置编码方式。</p>
<h5 id="6-与初始化参数相关的内置对象"><a href="#6-与初始化参数相关的内置对象" class="headerlink" title="6.与初始化参数相关的内置对象"></a>6.与初始化参数相关的内置对象</h5><p>initParam用户获取web.xml文件中配置的初始化参数。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">param-name</span>&gt;</span>username<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">param-value</span>&gt;</span>system<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">param-name</span>&gt;</span>password<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">param-value</span>&gt;</span>tiger<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">用户名：$&#123;initParam.username&#125;&lt;br&gt;</div><div class="line">密    码：$&#123;initParam.password&#125;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<p>Result:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">用户名：system</div><div class="line">密 码：tiger</div></pre></td></tr></table></figure>
<h4 id="3-EL运算符"><a href="#3-EL运算符" class="headerlink" title="3.EL运算符"></a>3.EL运算符</h4><p>EL表达式中，算术运算符、关系运算符、逻辑运算符和条件运算符都和java语句规则相同，不过其也有专有的写法（英文单词），这里不赘述，日后若要使用查阅资料即可。</p>
<p>另，${empty expression}，empty运算符可用来判断expression是否为空，空则输出true，非空则输出false。</p>
<h4 id="4在页面中禁止使用EL表达式"><a href="#4在页面中禁止使用EL表达式" class="headerlink" title="4在页面中禁止使用EL表达式"></a>4在页面中禁止使用EL表达式</h4><p>在JSP页面中可以禁止使用EL表达式，而在JSP页面中输出形如%{expr}的表达式。</p>
<h5 id="1-在当前页面禁用EL表达式"><a href="#1-在当前页面禁用EL表达式" class="headerlink" title="1.在当前页面禁用EL表达式"></a>1.在当前页面禁用EL表达式</h5><p>&lt;%@page isELIgonrd=”true | false”%&gt;  ，选用true（禁用）或false（不禁用）即可；</p>
<h5 id="2-在多个页面禁用"><a href="#2-在多个页面禁用" class="headerlink" title="2.在多个页面禁用"></a>2.在多个页面禁用</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;? xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">version</span>=<span class="string">"2.5"</span></span></div><div class="line"><span class="tag">         <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span></span></div><div class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></div><div class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee</span></span></div><div class="line"><span class="tag"><span class="string">         http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">jsp-config</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">jsp-property-group</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/files/*.jsp<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">el-ignored</span>&gt;</span>true<span class="tag">&lt;/<span class="name">el-ignored</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">jsp-property-group</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">jsp-config</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></div></pre></td></tr></table></figure>
<p>通过上述配置，禁用/files目录中所有的JSP页面使用EL表达式。</p>
<h5 id="3-在当前web应用中的所有JSP页面中使用EL表达式"><a href="#3-在当前web应用中的所有JSP页面中使用EL表达式" class="headerlink" title="3.在当前web应用中的所有JSP页面中使用EL表达式"></a>3.在当前web应用中的所有JSP页面中使用EL表达式</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;? xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="meta">&lt;!DOCTYPE web-app</span></div><div class="line"><span class="meta">    PUBLIC "-//sun Microsystems,Inc.//DTD Web Application 2.3//EN"</span></div><div class="line"><span class="meta">    "http://java.sun.com/dtd/web-app_2_3.dtd"&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在web.xml中定义web-app的版本号为2.3，这样所有的JSP都无法使用EL表达式，因为EL表达式从2.4版本开始支持。</p>
<h3 id="9-JSP标签"><a href="#9-JSP标签" class="headerlink" title="9.JSP标签"></a>9.JSP标签</h3><p>JSP标签的引用可以有效的消除JSP页面中的java代码，实现java代码的重要。在JSP页面编辑中，界面显示和程序代码通常是由美工和程序员共同完成的，如果在JSP页面含有大量的java代码，一般情况下会影响美工的界面设计工作。在大中型项目开发中使用JSP标签，有利于团队合作开发，方便后期维护和修改，使得项目更加规范和美观。</p>
<h4 id="1-自定义标签"><a href="#1-自定义标签" class="headerlink" title="1.自定义标签"></a>1.自定义标签</h4><h5 id="开发步骤"><a href="#开发步骤" class="headerlink" title="开发步骤"></a>开发步骤</h5><p>（1）编写实现了SimpleTag接口的标签处理类，将JSP中的java代码转移到标签处理类中。在实际编程中，标签处理类通常继承SimpleTagSupport，然后去覆盖该类中的doTag（）方法，实现标签逻辑。</p>
<p>（2）编写标签描述符（*.tld）文件，在tld文件中把标签处理器类型描述成一个标签，并把tld文件放置在WebContent-&gt;WEB-INF下。</p>
<p>（3）在JSP文件的page属性中设置对tld的引用，然后在页面主体中使用。</p>
<h5 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> JSPbq;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.io.StringWriter;</div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.JspFragment;</div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MysimpleTag4</span>  <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;<span class="comment">//通过SimpleTagSupport接口实现；</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException,IOException <span class="comment">//创建doTag（）方法；</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		JspFragment jf=<span class="keyword">this</span>.getJspBody();</div><div class="line">      <span class="comment">//获取JSP页面</span></div><div class="line">		StringWriter sw=<span class="keyword">new</span> StringWriter();</div><div class="line">		jf.invoke(sw);</div><div class="line">      <span class="comment">//将标签内容写到sw</span></div><div class="line">		String str=sw.toString();</div><div class="line">      <span class="comment">//将标签内容读取到字符串</span></div><div class="line">		str=str.toUpperCase();</div><div class="line">      <span class="comment">//将字符串转为大写</span></div><div class="line">		<span class="keyword">this</span>.getJspContext().getOut().write(str);</div><div class="line">      <span class="comment">//将修改后的字符串，写到浏览器</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">taglib</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></div><div class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></div><div class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span></span></div><div class="line"><span class="tag">    <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">tlib-version</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">short-name</span>&gt;</span>imut<span class="tag">&lt;/<span class="name">short-name</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://www.imut.edu.cn<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">tag</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>myTag4<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">tag-class</span>&gt;</span>JSPbq.MysimpleTag4<span class="tag">&lt;/<span class="name">tag-class</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">body-content</span>&gt;</span>scriptless<span class="tag">&lt;/<span class="name">body-content</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">tag</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">taglib</span>&gt;</span></div><div class="line"></div><div class="line">1.tld文件本质上是xml文件,一般要有xml文件描述和版本信息；</div><div class="line">2.<span class="tag">&lt;<span class="name">taglib</span>&gt;</span>是根目录，<span class="tag">&lt;<span class="name">tlib-version</span>&gt;</span>是tld文件版本，这两个标签必不可少；</div><div class="line">3.在<span class="tag">&lt;<span class="name">taglib</span>&gt;</span>根目录下可以新开无数个<span class="tag">&lt;<span class="name">tag</span>&gt;</span>目录，用来存放创建的自定义的标签的name、先关联的class路径等信息。</div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://www.imut.edu.cn"</span> prefix=<span class="string">"imut"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;修改标签体&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">      &lt;imut:myTag4&gt;</div><div class="line">         This my JSP page.&lt;br&gt;</div><div class="line">      &lt;/imut:myTag4&gt;</div><div class="line"></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line"><span class="number">1</span>.在taglib标签内设置引用自定义标签，输入对应的uri（自定义的tld文件路径）和prefix(为了易于引用所起的别名)；</div><div class="line"><span class="number">2</span>.在JSp页面中使用&lt;prefix值:name值&gt;即可引用自定义标签，本例中是&lt;imut:mtTag4&gt;</div></pre></td></tr></table></figure>
<h5 id="实例二"><a href="#实例二" class="headerlink" title="实例二"></a>实例二</h5><p>通过自定义标签输出list、map、数组；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> JSPbq;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.lang.reflect.Array;</div><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.Collection;</div><div class="line"><span class="keyword">import</span> java.util.Iterator;</div><div class="line"><span class="keyword">import</span> java.util.Map;</div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.JspException;</div><div class="line"><span class="keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ForEach</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span></span>&#123;</div><div class="line">	<span class="keyword">private</span> Object items;</div><div class="line">	<span class="keyword">private</span> String var;</div><div class="line">	<span class="keyword">private</span> Collection collection;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setItems</span><span class="params">(Object items)</span><span class="comment">//Object对象items的set方法；此外将得到的items对象（不论为何种对象）转化为集合型（Collection），转型的目的是为了便于在JSP中进行输出;</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		<span class="keyword">this</span>.items=items;</div><div class="line">		<span class="keyword">if</span>(items <span class="keyword">instanceof</span> Collection)<span class="comment">//将set和list型转为collection型（因为Set和List都是基于其父接口Collection的，所以这里只需进行“instanceof Collection”判断）</span></div><div class="line">		&#123;</div><div class="line">			collection=(Collection)items;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>(items <span class="keyword">instanceof</span> Map)<span class="comment">//将Map型进行转型；</span></div><div class="line">		&#123;</div><div class="line">			Map map=(Map) items;</div><div class="line">			collection=map.entrySet();<span class="comment">//map有专用的返回collection对象的方法，无需使用强制转换；</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>(items.getClass().isArray())<span class="comment">//将数组进行转型</span></div><div class="line">		&#123;</div><div class="line">			<span class="keyword">this</span>.collection=<span class="keyword">new</span> ArrayList();</div><div class="line">			<span class="keyword">int</span> len=Array.getLength(items);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</div><div class="line">			&#123;</div><div class="line">				Object obj=Array.get(items, i);<span class="comment">//获取数组items中下标为i的元素；（事实上此方法可以用来实现可能为数组类型的对象的迭代（搭配是否为数组的判断语句来使用））</span></div><div class="line">				collection.add(obj);<span class="comment">//将获取元素加入collection中（其为ArrayList（）型）,分析到这里我感觉简单概括为“统一转为collection便于输出”有些太笼统了，实际上只要能够使用Iterator接口进行遍历的类型都符合此例的要求，如此一来迫切需要转型的对象也就只有Map型和Array型了。</span></div><div class="line">			&#125;</div><div class="line">		</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVar</span><span class="params">(String var)</span><span class="comment">//var的set方法；</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		<span class="keyword">this</span>.var=var;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException,IOException<span class="comment">//doTag（）方法；</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		Iterator iter=<span class="keyword">this</span>.collection.iterator();<span class="comment">//创建基于Iterator接口的遍历对象；</span></div><div class="line">		<span class="keyword">while</span>(iter.hasNext())</div><div class="line">		&#123;</div><div class="line">			Object obj=iter.next();</div><div class="line">			<span class="keyword">this</span>.getJspContext().setAttribute(var, obj);<span class="comment">//将遍历取出的元素放入pageContext中；</span></div><div class="line">			<span class="keyword">this</span>.getJspBody().invoke(<span class="keyword">null</span>);<span class="comment">//执行标签体；</span></div><div class="line">		&#125;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">&lt;%<span class="meta">@page</span> language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://www.imut.edu.cn"</span> prefix=<span class="string">"imut"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;实现JSTL中的ForEach功能&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;% </div><div class="line">List list=<span class="keyword">new</span> ArrayList();</div><div class="line">list.add(<span class="string">"《Harry Potter》"</span>);</div><div class="line">list.add(<span class="string">"《连城诀》"</span>);</div><div class="line">list.add(<span class="string">"《无情剑客有情剑》"</span>);</div><div class="line">list.add(<span class="string">"《碧血洗银枪》"</span>);</div><div class="line">request.setAttribute(<span class="string">"list"</span>,list);<span class="comment">//创建并赋值一个list对象，并写到request中（我猜写入request是为便于标签的引用，下面类似）</span></div><div class="line">%&gt;</div><div class="line">  <span class="comment">//标签向ForEach.java传递参数，就本句而言，将上面写入request的“list”对象传递给this.items，var变量存放的字符串传递给this.var（待会儿作为对象名使用），接着就按照ForEach.java所写的流程运作：items对象转型为collection型对象，遍历，将元素以var（也就是bookName）为名写入pageContext。回到jsp页面，在自定义标签中输出名为bookName的对象的值即可。（因为在java方法中是一边遍历一边提取元素一边写入标签，所以元素输出不是一次性完成的）</span></div><div class="line">&lt;imut:ForEach var=<span class="string">"bookName"</span> items=<span class="string">"$&#123;list&#125;"</span>&gt;</div><div class="line">        $&#123;bookName&#125;&lt;br&gt;</div><div class="line">&lt;/imut:ForEach&gt;</div><div class="line">&lt;br&gt;</div><div class="line">&lt;br&gt;</div><div class="line">&lt;%</div><div class="line">Map map=<span class="keyword">new</span> HashMap();</div><div class="line">map.put(<span class="string">"《Harry Potty》"</span>, <span class="number">50</span>);</div><div class="line">map.put(<span class="string">"《连城诀》"</span>, <span class="number">60</span>);</div><div class="line">map.put(<span class="string">"《无情剑客有情剑》"</span>,<span class="number">70</span>);</div><div class="line">map.put(<span class="string">"《碧血洗银枪》"</span>,<span class="number">80</span>);</div><div class="line">request.setAttribute(<span class="string">"map1"</span>,map);</div><div class="line">%&gt;</div><div class="line">&lt;imut:ForEach var=<span class="string">"entry"</span> items=<span class="string">"$&#123;map1&#125;"</span>&gt;</div><div class="line">     $&#123;entry.key&#125;---$&#123;entry.value&#125;&lt;br&gt;</div><div class="line">&lt;/imut:ForEach&gt;</div><div class="line">&lt;br&gt;</div><div class="line">&lt;br&gt;</div><div class="line">&lt;%</div><div class="line">Integer[]num=&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>&#125;;</div><div class="line">request.setAttribute(<span class="string">"num"</span>,num);</div><div class="line">%&gt;</div><div class="line">&lt;imut:ForEach var=<span class="string">"i1"</span> items=<span class="string">"$&#123;num&#125;"</span>&gt;</div><div class="line">        $&#123;i1&#125;&lt;br&gt;</div><div class="line">&lt;/imut:ForEach&gt;</div><div class="line">&lt;br&gt;</div><div class="line">&lt;br&gt;</div><div class="line">&lt;%</div><div class="line"><span class="keyword">int</span> []arr=&#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>&#125;;</div><div class="line">request.setAttribute(<span class="string">"arr"</span>,arr);</div><div class="line">%&gt;</div><div class="line">&lt;imut:ForEach var=<span class="string">"i"</span> items=<span class="string">"$&#123;arr&#125;"</span>&gt;</div><div class="line">     $&#123;i&#125;&lt;br&gt;</div><div class="line">&lt;/imut:ForEach&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="/Users/zhangxuan/Pictures/截图/自定义标签.png" style="zoom:50%"></p>
<h4 id="2-JSTL核心标签库"><a href="#2-JSTL核心标签库" class="headerlink" title="2.JSTL核心标签库"></a>2.JSTL核心标签库</h4><p>c系列标签；</p>
<h5 id="1-表达式标签"><a href="#1-表达式标签" class="headerlink" title="1.表达式标签"></a>1.表达式标签</h5><p>c:out. 用来输出数据对象的内容。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;Insert title here&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;% pageContext.setAttribute(<span class="string">"school"</span>,<span class="string">"JiangNanUniversity"</span>);%&gt;</div><div class="line">&lt;% request.setAttribute(<span class="string">"text"</span>,<span class="string">"hello,world!"</span>); %&gt;</div><div class="line">&lt;%session.setAttribute(<span class="string">"want"</span>,<span class="string">"girls and money"</span>);%&gt;</div><div class="line">&lt;c:out value=<span class="string">"$&#123;want&#125;"</span>/&gt;&lt;br&gt;  <span class="comment">//输出对象中存放的值</span></div><div class="line">&lt;c:out value=<span class="string">"information  project college"</span>/&gt;&lt;br&gt;  <span class="comment">//输出指定值</span></div><div class="line">&lt;c:out value=<span class="string">"$&#123; school&#125;"</span> <span class="keyword">default</span>=<span class="string">"sorry,the value you find is null"</span>/&gt;&lt;br&gt; <span class="comment">//输出值为空则输出提示信息</span></div><div class="line">&lt;c:out value="$&#123;school&#125;"&gt;no value that you find&lt;/c:out&gt;//输出值为空则输出提示信息</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>c:set  :用于设置作用域变量或者对象属性值。</p>
<p>c:remove ：用于从作用域中删除变量。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"JSPbq.SimpleBean"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;c:set and c:remove&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;c:set var=<span class="string">"website"</span> value=<span class="string">"www.imut.edu.cn"</span> scope=<span class="string">"request"</span>/&gt;<span class="comment">//新建一个变量并赋值，限定作用域为request。</span></div><div class="line">输出变量值:$&#123;requestScope.website&#125;&lt;br&gt;<span class="comment">//使用el表达式输出上面新建变量的值</span></div><div class="line">&lt;%</div><div class="line">SimpleBean bean=<span class="keyword">new</span> SimpleBean();%&gt;</div><div class="line"><span class="comment">//SimpleBean是一个具有private属性info的class（其java代码是SimpleBean本身的无参构造方法和info属性的get、set方法，代码省略）</span></div><div class="line">&lt;h1&gt;&lt;%=bean.getinfo()%&gt;&lt;/h1&gt;//这里尝试输出调用getinfo方法输出info变量的值，结果自然为“null”</div><div class="line">&lt;%</div><div class="line">request.setAttribute(<span class="string">"simple"</span>,bean);<span class="comment">//bean对象赋给request中simple对象</span></div><div class="line">%&gt;</div><div class="line">&lt;c:set value=<span class="string">"I like JiangNanUniversity"</span> target=<span class="string">"$&#123;simple &#125;"</span> property=<span class="string">"info"</span>/&gt;</div><div class="line">  <span class="comment">//使用set标签赋值给simple对象的info属性。</span></div><div class="line">输出JavaBean对象属性info的值：$&#123;requestScope.simple.info&#125;&lt;br&gt;</div><div class="line">&lt;c:remove var=<span class="string">"simple"</span>/&gt; <span class="comment">//remove语句删除simple对象</span></div><div class="line">remove后,info：$&#123;simple.info&#125;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line"><span class="number">1</span>.第一个赋值是set语句赋值给变量</div><div class="line"><span class="number">2</span>.第二个赋值是set语句赋值给对象（对象的属性值）</div></pre></td></tr></table></figure>
<p>c:catch.  :处理产生错误的异常情况，并将信息保存起来（可使用输出语句输出异常信息）</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</div><div class="line"> &lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span> %&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;Insert title here&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;c:<span class="keyword">catch</span> var=<span class="string">"error"</span>&gt;<span class="comment">//捕捉位于catch标签内的异常，并存放在error变量中</span></div><div class="line">   &lt;%<span class="keyword">int</span> i=<span class="number">5</span>/<span class="number">0</span>; %&gt;</div><div class="line">&lt;/c:catch&gt;</div><div class="line">error is:$&#123;error&#125;    <span class="comment">//利用el语句输出异常信息；</span></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h5 id="2-流程控制标签"><a href="#2-流程控制标签" class="headerlink" title="2.流程控制标签"></a>2.流程控制标签</h5><p>c:if    判断为真，则执行标签内的语句；</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span> %&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span> %&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;c:if&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;c:set var=<span class="string">"username"</span> value=<span class="string">"imut"</span> scope=<span class="string">"page"</span>/&gt;<span class="comment">//给变量“username”赋值“imut”</span></div><div class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">"$&#123;username=='imut' &#125;"</span> var=<span class="string">"result"</span> scope=<span class="string">"page"</span>&gt; 判断username的值是否为“imut”</div><div class="line">条件为真时,条件结果为：$&#123;result&#125;&lt;br&gt;</div><div class="line">                      变量的值为：$&#123;username&#125;&lt;br&gt;</div><div class="line">&lt;/c:if&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>c:choose  、c:when 、c:otherwise   情况更多时候的判断</p>
<p>结构为：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;c:choose&gt;</div><div class="line">  &lt;c:when test=""&gt;&lt;/c:when&gt;</div><div class="line">  &lt;c:when test=""&gt;&lt;/c:when&gt;</div><div class="line">  &lt;c:otherwise&gt;   &lt;/c:otherwise&gt;</div><div class="line">&lt;/c:choose&gt;</div></pre></td></tr></table></figure>
<p>作用跟if-else一样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>()&#123;&#125;</div><div class="line"><span class="keyword">else</span> <span class="keyword">if</span>()&#123;&#125;</div><div class="line"><span class="keyword">else</span> <span class="keyword">if</span>()&#123;&#125;</div><div class="line"><span class="keyword">else</span> &#123;&#125;</div></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;put choose value&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;form action=<span class="string">"ChooseJSP.jsp"</span>  method=<span class="string">"post"</span>&gt;</div><div class="line">please input your score:&lt;input type=<span class="string">"text"</span> name=<span class="string">"num"</span>&gt;&lt;br&gt;</div><div class="line">&lt;input type=<span class="string">"submit"</span> value=<span class="string">"submit"</span>&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span> %&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;Insert title here&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;%</div><div class="line"><span class="keyword">int</span> sum=<span class="number">0</span>;</div><div class="line">String num=(String)request.getParameter(<span class="string">"num"</span>); <span class="comment">//读取从html页面表单提交的参数要用getParameter而非getAttribute</span></div><div class="line"><span class="keyword">if</span>(num!=<span class="keyword">null</span>)</div><div class="line">&#123;</div><div class="line">sum=Integer.parseInt(num);</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span> sum=<span class="number">80</span>;</div><div class="line">%&gt;</div><div class="line"></div><div class="line">&lt;c:set var=<span class="string">"score"</span> value=<span class="string">"&lt;%=sum%&gt;"</span>/&gt;</div><div class="line">&lt;c:choose&gt;</div><div class="line">     &lt;c:when test="$&#123;score&gt;=90&#125;"&gt;你的成绩为优秀&lt;/c:when&gt;</div><div class="line">     &lt;c:when test="$&#123;score&gt;=75 &amp;&amp; score&lt;90&#125;"&gt;你的成绩为良好&lt;/c:when&gt;</div><div class="line">     &lt;c:when test="$&#123;score&lt;75 &amp;&amp; score&gt;=60&#125;"&gt;你的成绩为及格&lt;/c:when&gt;</div><div class="line">     &lt;c:otherwise&gt;你没有通过考试&lt;/c:otherwise&gt;</div><div class="line">&lt;/c:choose&gt;</div><div class="line">成绩为：&lt;%=sum%&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line"><span class="number">1</span>.写了一个html页面，键入数字，然后提交到jsp页面</div><div class="line"><span class="number">2</span>.使用&lt;c:choose&gt;标签来对数字进行判断并输出对应结果</div></pre></td></tr></table></figure>
<h5 id="3-循环标签"><a href="#3-循环标签" class="headerlink" title="3.循环标签"></a>3.循环标签</h5><p>c:forEach    用于循环控制，可以遍历变量和集合中的元素。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span> %&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;循环&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;table border=<span class="string">"1"</span>&gt;</div><div class="line">&lt;tr&gt;</div><div class="line">&lt;td&gt;x的值&lt;/td&gt;</div><div class="line">&lt;td&gt;varStatus.index&lt;/td&gt;</div><div class="line">&lt;td&gt;varStatus.count&lt;/td&gt;</div><div class="line">&lt;td&gt;varStatus.first&lt;/td&gt;</div><div class="line">&lt;td&gt;varStatus.last&lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;c:forEach var=<span class="string">"x"</span> varStatus=<span class="string">"status"</span> begin=<span class="string">"0"</span> end=<span class="string">"9"</span> step=<span class="string">"3"</span>&gt;</div><div class="line">  <span class="comment">//设定循环变量为x，此次循环名为status，从0开始循环到9结束，变量一次增加3（相当于i+=3）</span></div><div class="line">&lt;tr&gt;</div><div class="line">     &lt;td&gt;$&#123;x &#125;&lt;/td&gt;</div><div class="line">     &lt;td&gt;$&#123;status.index &#125;&lt;/td&gt;     //当前循环的值</div><div class="line">     &lt;td&gt;$&#123;status.count &#125;&lt;/td&gt;     //当前循环次数</div><div class="line">     &lt;td&gt;$&#123;status.first&#125;&lt;/td&gt;      //当前是否为第一次循环（true|false）</div><div class="line">     &lt;td&gt;$&#123;status.last &#125;&lt;/td&gt;      //当前是否为最后一次循环（true|false）</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;/c:forEach&gt;</div><div class="line">&lt;/table&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><img src="/Users/zhangxuan/Pictures/截图/循环1.png" style="zoom:50%"></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> JSPbq;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> String username;</div><div class="line">	<span class="keyword">private</span> String password;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;	</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> username;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.username = username;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> password;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.password = password;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"JSPbq.User,java.util.*"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;循环2&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;%</div><div class="line">List users=<span class="keyword">new</span> ArrayList();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</div><div class="line">	User user=<span class="keyword">new</span> User();</div><div class="line">	user.setUsername(<span class="string">"user"</span>+i);</div><div class="line">	user.setPassword(<span class="string">"pass"</span>+i);</div><div class="line">	users.add(user);       <span class="comment">//循环定义user对象并写入List</span></div><div class="line">&#125;</div><div class="line">session.setAttribute(<span class="string">"users"</span>, users);   <span class="comment">//将List对象写入session</span></div><div class="line">%&gt;</div><div class="line">&lt;c:forEach items=<span class="string">"$&#123;users&#125;"</span> var=<span class="string">"user"</span>&gt;  <span class="comment">//遍历输出集合元素</span></div><div class="line">      用户名：$&#123;user.username &#125;----密码：$&#123;user.password&#125;&lt;br&gt;</div><div class="line">&lt;/c:forEach&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><img src="/Users/zhangxuan/Pictures/截图/循环2.png" style="zoom:50%"></p>
<p>c:fortokens.  用于浏览字符串中的成员，可以指定一个或者多个分隔符。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;循环&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;c:set var=<span class="string">"user"</span> value=<span class="string">"username=zhangsan;password=123"</span>/&gt; <span class="comment">//给变量user赋值</span></div><div class="line">&lt;c:forTokens items=<span class="string">"$&#123;user &#125;"</span> delims=<span class="string">";"</span> var=<span class="string">"infos"</span>&gt;  <span class="comment">//输出user值，以“；”为分隔，将其中分隔的片段赋给变量infos</span></div><div class="line">     &lt;c:forTokens items=<span class="string">"$&#123;infos&#125;"</span> delims=<span class="string">"="</span> var=<span class="string">"info"</span>&gt;  <span class="comment">//输出infos值，以“=”为分隔。</span></div><div class="line">             $&#123;info&#125;&lt;br&gt;</div><div class="line">     &lt;/c:forTokens&gt;</div><div class="line">&lt;/c:forTokens&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>运行结果：</p>
<p>username<br>zhangsan<br>password<br>123</p>
<h5 id="4-url相关标签"><a href="#4-url相关标签" class="headerlink" title="4.url相关标签"></a>4.url相关标签</h5><p><c:param>.  用于将参数传递给所包含的文件，主要用在<c:import>、<c:url>、<c:redirect>标签中指定请求参数。</c:redirect></c:url></c:import></c:param></p>
<p>C:import  用于将静态或动态文件包含到jsp页面中</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">  &lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;c：import&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;c:<span class="keyword">import</span>  url=<span class="string">"https://lao-zhang.github.io"</span> charEncoding=<span class="string">"utf-8"</span>/&gt;  <span class="comment">//可引用网站（动态文件）</span></div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>C:redirect :用于将客户端请求从一个jsp页面重定向到其他页面</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">    &lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;重定向&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;c:redirect url=<span class="string">"redirect2.jsp"</span>&gt;     <span class="comment">//重定向到redirect2.jsp页面 并使用&lt;c:param&gt;标签发送参数</span></div><div class="line">     &lt;c:param name=<span class="string">"username"</span> value=<span class="string">"zhangsan"</span>/&gt;</div><div class="line">     &lt;c:param name=<span class="string">"age"</span> value=<span class="string">"20"</span>/&gt;</div><div class="line">&lt;/c:redirect&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</div><div class="line">    &lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;重定向2&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">此页面为重定向之后的页面&lt;br&gt;         </div><div class="line">您的姓名：$&#123;param.username&#125;&lt;br&gt;        <span class="comment">//使用el语句输出从转发源获取的参数</span></div><div class="line">您的年龄：$&#123;param.age&#125;&lt;br&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>c:url : 用于生成一个URL</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></div><div class="line">    pageEncoding=<span class="string">"UTF-8"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span>%&gt;</div><div class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span>%&gt;</div><div class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</div><div class="line">&lt;title&gt;Insert title here&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line"></div><div class="line">&lt;a href=<span class="string">"&lt;c:url  value="</span>https:<span class="comment">//lao-zhang.github.io"/&gt; "&gt;</span></div><div class="line">laozhang blog&lt;/a&gt;           //搭配&lt;a href&gt;标签使用</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
</jsp:usebean>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/10/JAVA WEB（2）/" data-id="cjefnd2580000rt76gpwercyh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/10/27/Thinking in java/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          thinking in java
        
      </div>
    </a>
  
  
    <a href="/2017/08/05/Java Web/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">java web(1)</div>
    </a>
  
</nav>

  
    
    
    
        <section class="youyan" id="comments">
  <div id="uyan_frame"></div>
  <script src="http://v2.uyan.cc/code/uyan.js?uid=2146648"></script>
</section>
    

</article>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/10/spring/">Spring学习笔记</a>
          </li>
        
          <li>
            <a href="/2018/01/10/Java web项目/">传统java web项目</a>
          </li>
        
          <li>
            <a href="/2017/11/28/Python/">python笔记</a>
          </li>
        
          <li>
            <a href="/2017/11/15/你想当程序员么？/">你想当程序员吗？</a>
          </li>
        
          <li>
            <a href="/2017/11/05/技术帖之贪心算法1/">技术帖之贪心算法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 老zhang  Q:1583707135<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="https://lao-zhang.github.io" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>